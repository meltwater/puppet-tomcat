# file managed by puppet

#
# Do not edit this file, please modify setenv-local.sh instead
#

# 
# JVM tuning parameters
#

<% if has_variable?("classpath") %>
# force catalina.sh to use the common library in CATALINA_HOME and not CATALINA_BASE
# this is required to run tomcat on RHEL6 (Santiago)
export CLASSPATH=<%= classpath %>
<% end %>

export DSUN_JAVA2D_OPENGL="false"
export DJAVA_AWT_HEADLESS="true"
export JAVA_XMX="256m"
export JAVA_XX_MAXPERMSIZE="256m"

<% setenv.each do |env| %>
export <%= env -%>
<% end %>

SETENV_LOCAL="$CATALINA_BASE/bin/setenv-local.sh"
if [ -e $SETENV_LOCAL ]; then
    . $SETENV_LOCAL
fi

export JAVA_OPTS="-Dsun.java2d.opengl=${DSUN_JAVA2D_OPENGL} \
                  -Djava.awt.headless=${DJAVA_AWT_HEADLESS} \
                  -Djavax.servlet.request.encoding=UTF-8 \
		  -Dfile.encoding=UTF-8 \
		  -Xmx${JAVA_XMX} \
		  -XX:MaxPermSize=${JAVA_XX_MAXPERMSIZE} \
		  -XX:+UseConcMarkSweepGC \
		  -XX:+UseParNewGC \
		  -XX:+CMSClassUnloadingEnabled \
                  ${ADD_JAVA_OPTS}"
